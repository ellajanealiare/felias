<html><head><base href="https://socialconnect.app/home">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SocialConnect - Home</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f0f2f5;
        margin: 0;
        padding: 0;
        color: #1c1e21;
    }
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        display: flex;
        gap: 20px;
    }
    .navbar {
        background-color: #ffffff;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        padding: 10px 0;
        position: sticky;
        top: 0;
        z-index: 1000;
    }
    .navbar-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
    }
    .logo {
        font-size: 24px;
        font-weight: bold;
        color: #1877f2;
    }
    .nav-links {
        display: flex;
        gap: 20px;
    }
    .nav-link {
        color: #65676b;
        text-decoration: none;
        font-weight: bold;
        padding: 10px;
        border-radius: 8px;
        transition: background-color 0.3s;
    }
    .nav-link:hover, .nav-link.active {
        background-color: #f0f2f5;
        color: #1877f2;
    }
    .sidebar {
        width: 25%;
    }
    .main-content {
        width: 50%;
    }
    .right-sidebar {
        width: 25%;
    }
    .card {
        background-color: #ffffff;
        border-radius: 8px;
        box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        margin-bottom: 20px;
        padding: 20px;
    }
    .post-form textarea {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        resize: none;
    }
    .post-form button {
        background-color: #1877f2;
        color: #ffffff;
        border: none;
        padding: 10px 20px;
        border-radius: 4px;
        cursor: pointer;
        margin-top: 10px;
    }
    .post-form button:hover {
        background-color: #166fe5;
    }
    .post {
        margin-bottom: 20px;
    }
    .post-header {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
    }
    .post-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        margin-right: 10px;
    }
    .post-user {
        font-weight: bold;
    }
    .post-time {
        color: #65676b;
        font-size: 12px;
    }
    .post-content {
        margin-bottom: 10px;
    }
    .post-image {
        max-width: 100%;
        border-radius: 8px;
        margin-bottom: 10px;
    }
    .post-actions {
        display: flex;
        gap: 10px;
    }
    .post-action {
        color: #65676b;
        cursor: pointer;
    }
    .post-action:hover {
        text-decoration: underline;
    }
    .friend-suggestion {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
    }
    .friend-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        margin-right: 10px;
    }
    .friend-name {
        flex-grow: 1;
    }
    .add-friend {
        background-color: #e7f3ff;
        color: #1877f2;
        border: none;
        padding: 5px 10px;
        border-radius: 4px;
        cursor: pointer;
    }
    .add-friend:hover {
        background-color: #dbe7f2;
    }
    .friends-photos {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        margin-top: 10px;
    }
    .friend-photo {
        width: 100%;
        height: 0;
        padding-bottom: 100%;
        border-radius: 8px;
        background-size: cover;
        background-position: center;
    }

    /* Dark mode styles */
    body.dark-mode {
        background-color: #18191a;
        color: #e4e6eb;
    }
    
    .dark-mode .navbar,
    .dark-mode .card {
        background-color: #242526;
    }
    
    .dark-mode .logo {
        color: #2d88ff;
    }
    
    .dark-mode .nav-link {
        color: #b0b3b8;
    }
    
    .dark-mode .nav-link:hover,
    .dark-mode .nav-link.active {
        background-color: #3a3b3c;
        color: #2d88ff;
    }
    
    .dark-mode .post-form textarea {
        background-color: #3a3b3c;
        border-color: #3a3b3c;
        color: #e4e6eb;
    }
    
    .dark-mode .post-form button {
        background-color: #2d88ff;
    }
    
    .dark-mode .post-time,
    .dark-mode .post-action {
        color: #b0b3b8;
    }
    
    .dark-mode .add-friend {
        background-color: #3a3b3c;
        color: #2d88ff;
    }
    
    .dark-mode .add-friend:hover {
        background-color: #4e4f50;
    }

    /* Dark mode toggle button */
    .dark-mode-toggle {
        background-color: transparent;
        border: none;
        color: #65676b;
        cursor: pointer;
        font-size: 24px;
        padding: 5px;
    }

    .dark-mode .dark-mode-toggle {
        color: #e4e6eb;
    }

    .post-video {
        max-width: 100%;
        border-radius: 8px;
        margin-bottom: 10px;
    }

    .friend-list {
        margin-top: 20px;
    }

    .friend-item {
        display: flex;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid #e4e6eb;
    }

    .friend-item:last-child {
        border-bottom: none;
    }

    .friend-item .friend-avatar {
        margin-right: 10px;
    }

    .dark-mode .friend-item {
        border-bottom-color: #3a3b3c;
    }

    .notifications-dropdown {
        position: relative;
        display: inline-block;
    }

    .notifications-toggle {
        background: none;
        border: none;
        cursor: pointer;
        font-size: 16px;
        color: #65676b;
    }

    .notification-count {
        background-color: #fa3e3e;
        color: white;
        border-radius: 50%;
        padding: 2px 6px;
        font-size: 12px;
        position: absolute;
        top: -5px;
        right: -5px;
    }

    .notifications-content {
        display: none;
        position: absolute;
        background-color: #fff;
        min-width: 300px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        z-index: 1;
        right: 0;
        border-radius: 8px;
        max-height: 400px;
        overflow-y: auto;
    }

    .notification-item {
        padding: 10px;
        border-bottom: 1px solid #e4e6eb;
        display: flex;
        align-items: center;
    }

    .notification-item:last-child {
        border-bottom: none;
    }

    .notification-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        margin-right: 10px;
    }

    .notification-content {
        flex-grow: 1;
    }

    .notification-time {
        font-size: 12px;
        color: #65676b;
    }

    .dark-mode .notifications-content {
        background-color: #242526;
    }

    .dark-mode .notification-item {
        border-bottom-color: #3a3b3c;
    }

    .dark-mode .notification-time {
        color: #b0b3b8;
    }

    .friend-photo:hover::after {
        content: attr(title);
        position: absolute;
        bottom: 100%;
        left: 50%;
        transform: translateX(-50%);
        background-color: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 5px 10px;
        border-radius: 4px;
        font-size: 12px;
        white-space: nowrap;
    }

    .friend-photo {
        position: relative;
    }

    .friend-photo::before {
        content: '👑';
        position: absolute;
        top: 5px;
        right: 5px;
        font-size: 16px;
    }

    #uploadVideoBtn {
        background-color: #4267B2;
        color: white;
        border: none;
        padding: 5px 10px;
        border-radius: 4px;
        cursor: pointer;
        margin-right: 10px;
    }

    #uploadVideoBtn:hover {
        background-color: #365899;
    }

    #videoPreview {
        margin-top: 10px;
    }

    .video-section {
        margin-bottom: 20px;
    }

    .video-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        gap: 20px;
    }

    .video-item {
        cursor: pointer;
    }

    .video-thumbnail {
        position: relative;
    }

    .video-duration {
        position: absolute;
        bottom: 5px;
        right: 5px;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 2px 4px;
        font-size: 12px;
        border-radius: 2px;
    }

    .video-info {
        display: flex;
        align-items: flex-start;
        margin-top: 10px;
    }

    .video-avatar {
        border-radius: 50%;
        margin-right: 10px;
    }

    .video-details {
        flex-grow: 1;
    }

    .video-title {
        font-weight: bold;
        margin-bottom: 5px;
    }

    .video-user, .video-views {
        font-size: 14px;
        color: #65676b;
    }

    .video-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
    }

    .video-modal-content {
        background-color: white;
        padding: 20px;
        border-radius: 8px;
        max-width: 800px;
        width: 100%;
    }

    .close-modal {
        float: right;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
    }

    .video-modal-info {
        display: flex;
        align-items: center;
        margin-top: 10px;
    }

    .dark-mode .video-modal-content {
        background-color: #242526;
        color: #e4e6eb;
    }

    .dark-mode .video-user, .dark-mode .video-views {
        color: #b0b3b8;
    }

    .messages-container {
        display: flex;
        height: calc(100vh - 60px);
    }

    .messages-sidebar {
        width: 300px;
        border-right: 1px solid #e4e6eb;
        overflow-y: auto;
    }

    .messages-chat {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
    }

    .conversation-item {
        display: flex;
        align-items: center;
        padding: 10px;
        cursor: pointer;
    }

    .conversation-item:hover {
        background-color: #f0f2f5;
    }

    .conversation-avatar {
        border-radius: 50%;
        margin-right: 10px;
    }

    .conversation-info {
        flex-grow: 1;
    }

    .conversation-user {
        font-weight: bold;
    }

    .conversation-last-message {
        font-size: 14px;
        color: #65676b;
    }

    .unread-badge {
        background-color: #1877f2;
        color: white;
        border-radius: 50%;
        padding: 2px 6px;
        font-size: 12px;
    }

    #chatHeader {
        display: flex;
        align-items: center;
        padding: 10px;
        border-bottom: 1px solid #e4e6eb;
    }

    .chat-avatar {
        border-radius: 50%;
        margin-right: 10px;
    }

    .chat-user {
        font-weight: bold;
    }

    #chatMessages {
        flex-grow: 1;
        overflow-y: auto;
        padding: 10px;
    }

    .message {
        max-width: 70%;
        margin-bottom: 10px;
        padding: 8px 12px;
        border-radius: 18px;
    }

    .message-sent {
        align-self: flex-end;
        background-color: #0084ff;
        color: white;
        margin-left: auto;
    }

    .message-received {
        background-color: #f0f2f5;
    }

    .message-time {
        font-size: 12px;
        color: #65676b;
        margin-top: 4px;
    }

    .message-input {
        display: flex;
        padding: 10px;
        border-top: 1px solid #e4e6eb;
    }

    #messageInput {
        flex-grow: 1;
        border: none;
        padding: 8px;
        border-radius: 20px;
        background-color: #f0f2f5;
    }

    #sendMessageBtn {
        background-color: #0084ff;
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 20px;
        margin-left: 10px;
        cursor: pointer;
    }

    .dark-mode .messages-sidebar,
    .dark-mode #chatHeader,
    .dark-mode .message-input {
        border-color: #3a3b3c;
    }

    .dark-mode .conversation-item:hover {
        background-color: #3a3b3c;
    }

    .dark-mode .message-received {
        background-color: #3a3b3c;
    }

    .dark-mode #messageInput {
        background-color: #3a3b3c;
        color: #e4e6eb;
    }
</style>
</head>
<body>
<nav class="navbar">
    <div class="navbar-container">
        <div class="logo">SocialConnect</div>
        <div class="nav-links">
            <a href="https://socialconnect.app/home" class="nav-link active">Home</a>
            <a href="https://socialconnect.app/profile" class="nav-link">Profile</a>
            <a href="https://socialconnect.app/messages" class="nav-link">Messages</a>
            <div class="notifications-dropdown">
                <button class="nav-link notifications-toggle">Notifications <span class="notification-count">3</span></button>
                <div class="notifications-content">
                    <!-- Notifications will be dynamically added here -->
                </div>
            </div>
            <button class="dark-mode-toggle" id="darkModeToggle">🌓</button>
        </div>
    </div>
</nav>

<div class="container">
    <div class="sidebar">
        <div class="card">
            <h3>Quick Links</h3>
            <ul>
                <li><a href="#">Friends</a></li>
                <li><a href="#">Groups</a></li>
                <li><a href="#">Events</a></li>
                <li><a href="#">Saved Posts</a></li>
            </ul>
        </div>
        <div class="card">
            <h3>Friends' Photos</h3>
            <div class="friends-photos" id="friendsPhotos">
                <!-- Friend photos will be dynamically added here -->
            </div>
        </div>
    </div>

    <div class="main-content">
        <div class="messages-container" id="messagesContainer" style="display: none;">
            <div class="messages-sidebar">
                <h2>Conversations</h2>
                <div id="conversationList"></div>
            </div>
            <div class="messages-chat">
                <div id="chatHeader"></div>
                <div id="chatMessages"></div>
                <div class="message-input">
                    <input type="text" id="messageInput" placeholder="Type a message...">
                    <button id="sendMessageBtn">Send</button>
                </div>
            </div>
        </div>

        <div class="post-form card">
            <textarea placeholder="What's on your mind, Ella?" rows="3"></textarea>
            <input type="file" id="videoUpload" accept="video/*" style="display: none;">
            <div class="post-actions">
                <button id="uploadVideoBtn">Upload Video</button>
                <button id="postButton">Post</button>
            </div>
            <div id="videoPreview" style="display: none;"></div>
        </div>

        <div class="card video-section">
            <h2>Popular Videos</h2>
            <div class="video-grid" id="videoGrid">
                <!-- Videos will be dynamically added here -->
            </div>
        </div>

        <div id="postsContainer">
            <!-- Existing posts will be rendered here -->
        </div>
    </div>

    <div class="right-sidebar">
        <div class="card">
            <h3>Friend Suggestions</h3>
            <div id="friendSuggestions">
                <!-- Friend suggestions will be dynamically added here -->
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', (event) => {
    const postsContainer = document.getElementById('postsContainer');
    const postButton = document.getElementById('postButton');
    const postTextarea = document.querySelector('.post-form textarea');
    const friendSuggestions = document.getElementById('friendSuggestions');
    const friendsPhotos = document.getElementById('friendsPhotos');
    const darkModeToggle = document.getElementById('darkModeToggle');
    const body = document.body;
    const videoUpload = document.getElementById('videoUpload');
    const uploadVideoBtn = document.getElementById('uploadVideoBtn');
    const videoPreview = document.getElementById('videoPreview');
    let selectedVideo = null;
    const notificationsToggle = document.querySelector('.notifications-toggle');
    const notificationsContent = document.querySelector('.notifications-content');
    const notificationCount = document.querySelector('.notification-count');
    const videoGrid = document.getElementById('videoGrid');
    const messagesContainer = document.getElementById('messagesContainer');
    const conversationList = document.getElementById('conversationList');
    const chatHeader = document.getElementById('chatHeader');
    const chatMessages = document.getElementById('chatMessages');
    const messageInput = document.getElementById('messageInput');
    const sendMessageBtn = document.getElementById('sendMessageBtn');

    let posts = [
        {
            id: 1,
            user: "Ella Felias",
            avatar: "https://placekitten.com/50/50",
            content: "Just finished watching The Little Mermaid for the 100th time! 🧜‍♀️🎵",
            image: "https://via.placeholder.com/500x300.png?text=The+Little+Mermaid+Scene",
            time: "Just now",
            likes: 0,
            comments: 0
        },
        {
            id: 2,
            user: "inumaki",
            avatar: "https://placekitten.com/51/51",
            content: "Check out this amazing Disney Princess medley!",
            video: "https://www.w3schools.com/html/mov_bbb.mp4", // Replace with an actual Disney Princess medley video URL
            time: "2 hours ago",
            likes: 15,
            comments: 3
        },
        {
            id: 3,
            user: "shotoro",
            avatar: "https://placekitten.com/52/52",
            content: "Who's excited for the new live-action Snow White?",
            time: "Yesterday",
            likes: 24,
            comments: 3
        },
        {
            id: 4,
            user: "Ella Felias",
            avatar: "https://placekitten.com/50/50",
            content: "My Disney Princess cosplay collection! 👑✨",
            image: "https://via.placeholder.com/500x300.png?text=Disney+Princess+Cosplay",
            time: "2 days ago",
            likes: 42,
            comments: 7
        },
        {
            id: 5,
            user: "Ariel",
            avatar: "https://via.placeholder.com/50x50.png?text=Ariel",
            content: "Check out this amazing underwater scene!",
            video: "https://www.w3schools.com/html/mov_bbb.mp4", // Replace with an actual Disney-themed video
            time: "3 hours ago",
            likes: 28,
            comments: 5
        }
    ];

    let friends = [
        { id: 1, name: "meriel cabaltera", avatar: "https://placekitten.com/53/53", isFriend: true },
        { id: 2, name: "trixy galve", avatar: "https://placekitten.com/54/54", isFriend: false },
        { id: 3, name: "decerie mansubayan", avatar: "https://placekitten.com/55/55", isFriend: false },
        { id: 4, name: "sahara", avatar: "https://placekitten.com/56/56", isFriend: true },
        { id: 5, name: "dianne", avatar: "https://placekitten.com/57/57", isFriend: true },
        { id: 6, name: "annie", avatar: "https://placekitten.com/58/58", isFriend: false },
        { id: 7, name: "kaela", avatar: "https://placekitten.com/59/59", isFriend: true },
        { id: 8, name: "jane", avatar: "https://placekitten.com/60/60", isFriend: false },
        { id: 9, name: "gwapo koo", avatar: "https://placekitten.com/61/61", isFriend: true },
        { id: 10, name: "joshua Garcia", avatar: "https://placekitten.com/62/62", isFriend: false }
    ];

    let friendPhotos = [
        "https://via.placeholder.com/100x100.png?text=Cinderella",
        "https://via.placeholder.com/100x100.png?text=Belle",
        "https://via.placeholder.com/100x100.png?text=Mulan",
        "https://via.placeholder.com/100x100.png?text=Ariel",
        "https://via.placeholder.com/100x100.png?text=Jasmine",
        "https://via.placeholder.com/100x100.png?text=Tiana"
    ];

    let notifications = [
        {
            id: 1,
            user: "Belle",
            avatar: "https://via.placeholder.com/40x40.png?text=Belle",
            content: "liked your post about The Little Mermaid.",
            time: "5 minutes ago"
        },
        {
            id: 2,
            user: "Mulan",
            avatar: "https://via.placeholder.com/40x40.png?text=Mulan",
            content: "commented on your Disney Princess cosplay collection.",
            time: "1 hour ago"
        },
        {
            id: 3,
            user: "Tiana",
            avatar: "https://via.placeholder.com/40x40.png?text=Tiana",
            content: "sent you a friend request.",
            time: "2 hours ago"
        }
    ];

    let popularVideos = [
        {
            id: 1,
            user: "Ariel",
            avatar: "https://via.placeholder.com/40x40.png?text=Ariel",
            title: "Under the Sea Adventure",
            thumbnail: "https://via.placeholder.com/320x180.png?text=Under+the+Sea",
            videoUrl: "https://www.w3schools.com/html/mov_bbb.mp4",
            views: 15000
        },
        {
            id: 2,
            user: "Belle",
            avatar: "https://via.placeholder.com/40x40.png?text=Belle",
            title: "Be Our Guest: Castle Tour",
            thumbnail: "https://via.placeholder.com/320x180.png?text=Castle+Tour",
            videoUrl: "https://www.w3schools.com/html/mov_bbb.mp4",
            views: 12500
        },
        {
            id: 3,
            user: "Mulan",
            avatar: "https://via.placeholder.com/40x40.png?text=Mulan",
            title: "Warrior Training Montage",
            thumbnail: "https://via.placeholder.com/320x180.png?text=Warrior+Training",
            videoUrl: "https://www.w3schools.com/html/mov_bbb.mp4",
            views: 18000
        },
        {
            id: 4,
            user: "Tiana",
            avatar: "https://via.placeholder.com/40x40.png?text=Tiana",
            title: "New Orleans Cooking Show",
            thumbnail: "https://via.placeholder.com/320x180.png?text=Cooking+Show",
            videoUrl: "https://www.w3schools.com/html/mov_bbb.mp4",
            views: 10000
        }
    ];

    let conversations = [
        {
            id: 1,
            user: "Ariel",
            avatar: "https://via.placeholder.com/40x40.png?text=Ariel",
            lastMessage: "Hey, want to go for a swim?",
            unread: 2
        },
        {
            id: 2,
            user: "Belle",
            avatar: "https://via.placeholder.com/40x40.png?text=Belle",
            lastMessage: "I found a great new book!",
            unread: 0
        },
        {
            id: 3,
            user: "Mulan",
            avatar: "https://via.placeholder.com/40x40.png?text=Mulan",
            lastMessage: "Training session at 5 PM?",
            unread: 1
        }
    ];

    let messages = {
        1: [
            { sender: "Ariel", content: "Hey, want to go for a swim?", time: "10:30 AM" },
            { sender: "You", content: "Sounds fun! When and where?", time: "10:35 AM" },
            { sender: "Ariel", content: "How about the coral reef at 2 PM?", time: "10:37 AM" }
        ],
        2: [
            { sender: "Belle", content: "I found a great new book!", time: "Yesterday" },
            { sender: "You", content: "What's it about?", time: "Yesterday" },
            { sender: "Belle", content: "It's a fascinating story about enchanted objects!", time: "Yesterday" }
        ],
        3: [
            { sender: "Mulan", content: "Training session at 5 PM?", time: "2 hours ago" },
            { sender: "You", content: "I'll be there!", time: "1 hour ago" }
        ]
    };

    function createPostElement(post) {
        const postElement = document.createElement('div');
        postElement.className = 'card post';
        postElement.innerHTML = `
            <div class="post-header">
                <img src="${post.avatar}" alt="${post.user}" class="post-avatar" width="40" height="40">
                <div>
                    <div class="post-user">${post.user}</div>
                    <div class="post-time">${post.time}</div>
                </div>
            </div>
            <div class="post-content">${post.content}</div>
            ${post.image ? `<img src="${post.image}" alt="Post image" class="post-image" width="500" height="300">` : ''}
            ${post.video ? `
                <video class="post-video" width="500" controls>
                    <source src="${post.video}" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            ` : ''}
            <div class="post-actions">
                <span class="post-action like-action" data-post-id="${post.id}">Like (${post.likes})</span>
                <span class="post-action comment-action" data-post-id="${post.id}">Comment (${post.comments})</span>
                <span class="post-action">Share</span>
            </div>
            <div class="comments-section" id="comments-${post.id}"></div>
        `;

        const likeAction = postElement.querySelector('.like-action');
        likeAction.addEventListener('click', () => {
            post.likes++;
            likeAction.textContent = `Like (${post.likes})`;
        });

        const commentAction = postElement.querySelector('.comment-action');
        const commentsSection = postElement.querySelector('.comments-section');
        commentAction.addEventListener('click', () => {
            const commentInput = document.createElement('input');
            commentInput.type = 'text';
            commentInput.placeholder = 'Write a comment...';
            commentInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && commentInput.value.trim()) {
                    const commentElement = document.createElement('div');
                    commentElement.textContent = commentInput.value;
                    commentsSection.appendChild(commentElement);
                    post.comments++;
                    commentAction.textContent = `Comment (${post.comments})`;
                    commentInput.value = '';
                }
            });
            commentsSection.appendChild(commentInput);
        });

        return postElement;
    }

    function renderPosts() {
        postsContainer.innerHTML = '';
        posts.forEach(post => {
            const postElement = createPostElement(post);
            postsContainer.appendChild(postElement);
        });
    }

    function createFriendSuggestionElement(friend) {
        const friendElement = document.createElement('div');
        friendElement.className = 'friend-suggestion';
        friendElement.innerHTML = `
            <img src="${friend.avatar}" alt="${friend.name}" class="friend-avatar" width="40" height="40">
            <span class="friend-name">${friend.name}</span>
            <button class="add-friend" data-friend-id="${friend.id}">${friend.isFriend ? 'Unfriend' : 'Add Friend'}</button>
        `;

        const addFriendButton = friendElement.querySelector('.add-friend');
        addFriendButton.addEventListener('click', () => {
            friend.isFriend = !friend.isFriend;
            addFriendButton.textContent = friend.isFriend ? 'Unfriend' : 'Add Friend';
            renderFriendSuggestions();
            renderFriendList();
        });

        return friendElement;
    }

    function renderFriendSuggestions() {
        friendSuggestions.innerHTML = '';
        friends.forEach(friend => {
            if (!friend.isFriend) {
                const friendElement = createFriendSuggestionElement(friend);
                friendSuggestions.appendChild(friendElement);
            }
        });
    }

    function renderFriendPhotos() {
        friendsPhotos.innerHTML = '';
        friendPhotos.forEach(photo => {
            const photoElement = document.createElement('div');
            photoElement.className = 'friend-photo';
            photoElement.style.backgroundImage = `url(${photo})`;
            photoElement.title = photo.split('=')[1].replace('+', ' '); // Set title to princess name
            friendsPhotos.appendChild(photoElement);
        });
    }

    function renderFriendList() {
        const friendList = document.querySelector('.friend-list');
        if (!friendList) {
            const newFriendList = document.createElement('div');
            newFriendList.className = 'card friend-list';
            newFriendList.innerHTML = '<h3>Friends</h3>';
            document.querySelector('.sidebar').appendChild(newFriendList);
        }
        
        const friendListContainer = document.querySelector('.friend-list') || newFriendList;
        friendListContainer.innerHTML = '<h3>Friends</h3>';
        
        const friendListContent = document.createElement('div');
        friends.forEach(friend => {
            if (friend.isFriend) {
                const friendElement = document.createElement('div');
                friendElement.className = 'friend-item';
                friendElement.innerHTML = `
                    <img src="${friend.avatar}" alt="${friend.name}" class="friend-avatar" width="30" height="30">
                    <span class="friend-name">${friend.name}</span>
                `;
                friendListContent.appendChild(friendElement);
            }
        });
        
        friendListContainer.appendChild(friendListContent);
    }

    function renderNotifications() {
        notificationsContent.innerHTML = '';
        notifications.forEach(notification => {
            const notificationElement = document.createElement('div');
            notificationElement.className = 'notification-item';
            notificationElement.innerHTML = `
                <img src="${notification.avatar}" alt="${notification.user}" class="notification-avatar">
                <div class="notification-content">
                    <div><strong>${notification.user}</strong> ${notification.content}</div>
                    <div class="notification-time">${notification.time}</div>
                </div>
            `;
            notificationsContent.appendChild(notificationElement);
        });
    }

    function createVideoElement(video) {
        const videoElement = document.createElement('div');
        videoElement.className = 'video-item';
        videoElement.innerHTML = `
            <div class="video-thumbnail">
                <img src="${video.thumbnail}" alt="${video.title}" width="320" height="180">
                <div class="video-duration">2:30</div>
            </div>
            <div class="video-info">
                <img src="${video.avatar}" alt="${video.user}" class="video-avatar" width="30" height="30">
                <div class="video-details">
                    <div class="video-title">${video.title}</div>
                    <div class="video-user">${video.user}</div>
                    <div class="video-views">${video.views.toLocaleString()} views</div>
                </div>
            </div>
        `;
        videoElement.addEventListener('click', () => {
            openVideoModal(video);
        });
        return videoElement;
    }

    function renderPopularVideos() {
        videoGrid.innerHTML = '';
        popularVideos.forEach(video => {
            const videoElement = createVideoElement(video);
            videoGrid.appendChild(videoElement);
        });
    }

    function openVideoModal(video) {
        const modal = document.createElement('div');
        modal.className = 'video-modal';
        modal.innerHTML = `
            <div class="video-modal-content">
                <span class="close-modal">&times;</span>
                <video width="800" height="450" controls>
                    <source src="${video.videoUrl}" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                <h2>${video.title}</h2>
                <div class="video-modal-info">
                    <img src="${video.avatar}" alt="${video.user}" class="video-avatar" width="40" height="40">
                    <div>
                        <div class="video-user">${video.user}</div>
                        <div class="video-views">${video.views.toLocaleString()} views</div>
                    </div>
                </div>
            </div>
        `;
        document.body.appendChild(modal);

        const closeModal = modal.querySelector('.close-modal');
        closeModal.addEventListener('click', () => {
            document.body.removeChild(modal);
        });

        modal.addEventListener('click', (event) => {
            if (event.target === modal) {
                document.body.removeChild(modal);
            }
        });
    }

    function renderConversations() {
        conversationList.innerHTML = '';
        conversations.forEach(conv => {
            const convElement = document.createElement('div');
            convElement.className = 'conversation-item';
            convElement.innerHTML = `
                <img src="${conv.avatar}" alt="${conv.user}" class="conversation-avatar" width="40" height="40">
                <div class="conversation-info">
                    <div class="conversation-user">${conv.user}</div>
                    <div class="conversation-last-message">${conv.lastMessage}</div>
                </div>
                ${conv.unread > 0 ? `<div class="unread-badge">${conv.unread}</div>` : ''}
            `;
            convElement.addEventListener('click', () => openConversation(conv.id));
            conversationList.appendChild(convElement);
        });
    }

    function openConversation(conversationId) {
        const conversation = conversations.find(c => c.id === conversationId);
        chatHeader.innerHTML = `
            <img src="${conversation.avatar}" alt="${conversation.user}" class="chat-avatar" width="40" height="40">
            <div class="chat-user">${conversation.user}</div>
        `;
        renderMessages(conversationId);
        conversation.unread = 0;
        renderConversations();
    }

    function renderMessages(conversationId) {
        chatMessages.innerHTML = '';
        messages[conversationId].forEach(msg => {
            const msgElement = document.createElement('div');
            msgElement.className = `message ${msg.sender === 'You' ? 'message-sent' : 'message-received'}`;
            msgElement.innerHTML = `
                <div class="message-content">${msg.content}</div>
                <div class="message-time">${msg.time}</div>
            `;
            chatMessages.appendChild(msgElement);
        });
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function sendMessage() {
        const content = messageInput.value.trim();
        if (content) {
            const activeConversationId = parseInt(chatHeader.querySelector('.chat-avatar').alt);
            messages[activeConversationId].push({
                sender: "You",
                content: content,
                time: "Just now"
            });
            renderMessages(activeConversationId);
            messageInput.value = '';
        }
    }

    postButton.addEventListener('click', () => {
        const content = postTextarea.value.trim();
        if (content || selectedVideo) {
            const newPost = {
                id: posts.length + 1,
                user: "Ella Felias",
                avatar: "https://placekitten.com/50/50",
                content: content,
                time: "Just now",
                likes: 0,
                comments: 0
            };

            if (selectedVideo) {
                newPost.video = URL.createObjectURL(selectedVideo);
            }

            posts.unshift(newPost);
            renderPosts();
            postTextarea.value = '';
            selectedVideo = null;
            videoPreview.innerHTML = '';
            videoPreview.style.display = 'none';
        }
    });

    uploadVideoBtn.addEventListener('click', () => {
        videoUpload.click();
    });

    videoUpload.addEventListener('change', (event) => {
        const file = event.target.files[0];
        if (file && file.type.startsWith('video/')) {
            selectedVideo = file;
            videoPreview.innerHTML = `
                <video width="300" controls>
                    <source src="${URL.createObjectURL(file)}" type="${file.type}">
                    Your browser does not support the video tag.
                </video>
            `;
            videoPreview.style.display = 'block';
        } else {
            alert('Please select a valid video file.');
        }
    });

    notificationsToggle.addEventListener('click', () => {
        notificationsContent.style.display = notificationsContent.style.display === 'block' ? 'none' : 'block';
        notificationCount.style.display = 'none';
    });

    document.addEventListener('click', (event) => {
        if (!event.target.closest('.notifications-dropdown')) {
            notificationsContent.style.display = 'none';
        }
    });

    if (localStorage.getItem('darkMode') === 'enabled') {
        body.classList.add('dark-mode');
    }

    darkModeToggle.addEventListener('click', () => {
        body.classList.toggle('dark-mode');
        if (body.classList.contains('dark-mode')) {
            localStorage.setItem('darkMode', 'enabled');
        } else {
            localStorage.setItem('darkMode', null);
        }
    });

    sendMessageBtn.addEventListener('click', sendMessage);
    messageInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            sendMessage();
        }
    });

    // Update navigation to show messages
    const messagesLink = document.querySelector('a[href="https://socialconnect.app/messages"]');
    messagesLink.addEventListener('click', (e) => {
        e.preventDefault();
        document.querySelector('#postsContainer').style.display = 'none';
        document.querySelector('.video-section').style.display = 'none';
        document.querySelector('.post-form').style.display = 'none';
        messagesContainer.style.display = 'flex';
        renderConversations();
        if (conversations.length > 0) {
            openConversation(conversations[0].id);
        }
    });

    renderPosts();
    renderFriendSuggestions();
    renderFriendPhotos();
    renderFriendList();
    renderNotifications();
    renderPopularVideos();
});
</script>
</body></html>